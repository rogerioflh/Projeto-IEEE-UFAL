// C++ code
//

const int trig = 13; // Pino Trigger do sensor ultrassônico
const int eco = 12; // Pino Echo do sensor ultrassônico
int led =2;     // Pino do LED indicador

// Variáveis para armazenar a duração do pulso e a distância medida
long duracao;
float dist;


void setup()
{
  pinMode(led,OUTPUT);
  pinMode(trig, OUTPUT);
  pinMode(eco, INPUT);
  Serial.begin(9600);
}

void loop()
{ 
  // Limpa o pino trigger antes de enviar o pulso
  digitalWrite(trig, 0);
  delay(0.005); 
  
  // Envia um pulso de 10 microsegundos para o pino trigger
  digitalWrite(trig, 1);
  delay(0.01); 
  digitalWrite(trig, 0);

  // Lê a duração do pulso no pino echo
  duracao = pulseIn(eco,1);
  
  dist = duracao * 0.034 / 2; // Calcula a distância em cm, de acordo com a velocidade do som

  // Verifica se a distância está dentro do intervalo esperado
  if (dist >=100 || dist <= 2) {
    Serial.println("Valor fora de alcance");
    digitalWrite(led, LOW);

  } else // Se a distância estiver dentro do intervalo esperado, imprime o valor e acende o LED
  {
    Serial.println(dist);
    digitalWrite(led, HIGH);
  }
  delay(500);
}